{% extends "qc/base.html" %}
{% block content %}

<div class="mb-3">
  <h1 class="h3 mb-0">Complaints</h1>
  <div class="text-muted">All stores</div>
</div>

<div class="card shadow-sm">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-hover mb-0">
        <thead class="table-light">
          <tr><th>Date</th><th>Frame</th><th>Store</th><th>Type</th><th>Severity</th><th>Notes</th></tr>
        </thead>
        <tbody>
        {% for c in complaints %}
          <tr>
            <td>{{ c.created_at|date:"Y-m-d" }}</td>
            <td><a href="{% url 'frame_detail' c.variant.id %}">{{ c.variant.sku }}</a></td>
            <td>{{ c.store }}</td>
            <td>{{ c.get_failure_type_display }}</td>
            <td>{{ c.get_severity_display }}</td>
            <td>{{ c.notes|default:"-" }}</td>
          </tr>
        {% empty %}
          <tr><td colspan="6" class="text-muted p-3">No complaints yet.</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
